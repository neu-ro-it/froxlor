{% extends "Froxlor/userarea.html.twig" %}

{% block heading %}

	{% if listing.title is not empty %}
		<h5 class="mb-1">
			{% if listing.icon is not empty %}
				<i class="{{ listing.icon }} me-1"></i>
			{% endif %}
			{{ listing.title }}
			{% if listing.total_entries > 0 %}
				<small>
					<span class="badge rounded-pill bg-secondary">{{ listing.total_entries }}</span>
				</small>
			{% endif %}
		</h5>
		{% if listing.description is not empty %}
			<span class="text-muted mt-2">{{ listing.description }}</span>
		{% endif %}
	{% endif %}

{% endblock %}

{% block actions %}

	{% if listing.is_search and listing.self_overview is defined and listing.self_overview is iterable  %}
		{% set actions_tmp = actions_links|default([]) %}
		{% set actions_links = {'href': linker(listing.self_overview), 'icon': 'fa-solid fa-reply','label': lng('panel.backtooverview')} %}
		{% set actions_links = {actions_links}|merge(actions_tmp) %}
	{% endif %}

	{% if actions_links is iterable or (entity_info is defined and entity_info is not empty) %}
		<div>
			{% if actions_links is iterable %}
				{% for link in actions_links %}
					<a class="btn {{ link.class|default('btn-outline-primary') }}" href="{{ link.href|raw }}">
						<i class="{{ link.icon|default('fa-solid fa-plus-circle') }}"></i>
						<span class="d-none d-lg-inline ms-lg-1">{{ link.label }}</span>
					</a>
				{% endfor %}
			{% endif %}
			{# TODO: eventually not used anymore because of using a documentation link
			{% if entity_info is defined and entity_info is not empty %}
				<div class="alert alert-info" role="alert">
					{{ entity_info|raw }}
				</div>
			{% endif %}
			#}
		</div>
	{% endif %}
{% endblock %}


{% block content %}

	{% import "Froxlor/table/table.html.twig" as table %}

	{{ table.table(listing) }}

{% endblock %}
